

<p-toast></p-toast>

<p-multiSelect [options]="letterTemplates" [(ngModel)]="multiselectedLetters" defaultLabel="Select a letter" optionLabel="TemplateName"
optionValue = "TemplateID" display="chip" ></p-multiSelect>



<button pButton type="button"  icon="pi pi-plus" (click)="expandNodes(files)"></button>
<button pButton type="button"  icon="pi pi-minus" (click)="collapseNodes(files)"></button>



<p-treeTable [value]="files" [columns]="cols"  dataKey="name" 
[(contextMenuSelection)]="selectedNode" selectionMode="single"
[(selection)]="selectedLetter" (onNodeSelect)="nodeSelect($event)"
[contextMenu]="cm">
    
    
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th >
                selected:  {{selectedLetter}}            
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns" >
        <tr [ttContextMenuRow]="rowNode"  >
            <td *ngFor="let col of columns; let i = index" [ngClass]="{'kb-cell': col.field === 'icon'}" >
                <p-treeTableToggler  [rowNode]="rowNode" *ngIf="i == 0"></p-treeTableToggler>
                
                {{rowData[col.field]}}  
                
            </td>
        </tr>
    </ng-template>


    <ng-template pTemplate="emptymessage" let-columns>
        <tr>
            <td [attr.colspan]="columns.length">
                No records found
            </td>
        </tr>
    </ng-template> 
</p-treeTable>

<p-contextMenu #cm [model]="items"></p-contextMenu>