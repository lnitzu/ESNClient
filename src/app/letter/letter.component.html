<p-toast></p-toast>

<div class="p-grid" >
    
    <div class="p-col-12 p-sm-3" style="padding-bottom: 0px; margin-bottom: 0px; ">
        
        <div class="box" style="text-align: right; margin-right: 60px; margin-bottom: 0px;">

            <div style="float: left; margin-left: 60px;">
            
                <div class="p-field-checkbox" >
                    <label style="font-size:x-large; font-weight: bolder; " for="binary">Overwrite existing letters: </label>
                    &nbsp;&nbsp;&nbsp;
                    <p-checkbox [(ngModel)]="overWrite" [binary]="true"   inputId="binary"></p-checkbox>
                    
                </div>
            </div>


            <i class="pi pi-envelope  p-mr-4 p-text-secondary" pBadge   style="font-size: 1.7rem; margin-right: 30px;"
             value={{selectedCandidates.length}}></i>






            <p-dropdown [options]="letterTemplates" [(ngModel)]="selectedLetterTemplate" optionLabel="TemplateName"
                optionValue="TemplateID" (onChange)="onChangeTemplate($event)" >
            </p-dropdown>

            <button pButton type="button" label="Generate" [disabled]="selectedCandidates.length==0" class="p-button-success" (click)="generate()"></button>

        </div>
    </div>


    <div class="p-col-12 " style="margin-top: 0px;">
        <div class="box">

            <p-pickList [source]="availableCandidates" [target]="selectedCandidates" sourceHeader="Available" targetHeader="Selected"
                [responsive]="true" [sourceStyle]="{'height':'30rem'}" [targetStyle]="{'height':'30rem'}"
                filterBy="FullName" sourceFilterPlaceholder="Search by name" targetFilterPlaceholder="Search by name"
                [dragdrop]="true">


                <ng-template let-student pTemplate="item">
                    <div class="product-item">
                        <div class="image-container">
                            <!--img src="assets/showcase/images/demo/product/{{product.image}}" [alt]="product.name" class="product-image" /-->
                        </div>
                        <div class="product-list-detail">
                            <h5 class="p-mb-2">{{student.FullName}}&nbsp; 
                                <p-badge *ngIf="student.letter_count!=null" value="{{student.letter_count}}" size="medium" severity="success"></p-badge>                
                                        </h5> 
                            <i class="fa fa-map-marker"></i>&nbsp;{{student.Site}}
                        </div>
                        <div class="product-list-action" >
                            <h5 class="p-mb-2">{{student.AppliedDate | date}}</h5>
                            
                            <p-badge *ngIf="student.ApprovalStatus.toUpperCase() == 'APPROVED'" value="{{student.ApprovalStatus.toUpperCase()}}" size="medium" severity="success"></p-badge>
                            <p-badge *ngIf="student.ApprovalStatus.toUpperCase() != 'APPROVED'" value="{{student.ApprovalStatus.toUpperCase()}}" size="medium" severity="warning"></p-badge>

                            
                        </div>
                    </div>
                </ng-template>>
                
            </p-pickList>
            

        </div>
    </div>


</div>
